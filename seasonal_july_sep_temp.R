library(raster)
library(sp,rgeos)
library(ncdf4)
l1=brick("F:\\STUDY MATERIAL\\semester5\\CSM\\LAB\\csm lab5\\tmp\\cru_ts4.00.2001.2010.tmp.dat.nc.gz.cdf",varname="tmp")
l2=brick("F:\\STUDY MATERIAL\\semester5\\CSM\\LAB\\csm lab5\\tmp\\cru_ts4.00.2011.2015.tmp.dat.nc.gz.cdf",varname="tmp")
stacking=stack(l1,l2)
dim(stacking)
print(stacking)
library(maptools)
shpbihar=readShapeSpatial("D:\\experiment\\Bihar.shp")
shan=CRS(" +proj=longlat +datum=WGS84 +ellps=WGS84 +towgs84=0,0,0")
proj4string(shpbihar)=shan
cropping=crop(stacking,subset(shpbihar))
masking=mask(cropping,subset(shpbihar))
plot(masking, main="shashank")
attributes(masking)
csm=mean(masking)
plot(masking)
writeRaster(masking,filename ="tempcsmlab_2001-2015.tif",formate="GTiff",overwrite=TRUE)
CRU_RAW=brick("C:\\Users\\SHASHANK BHASKAR\\Documents\\csmlab.tif")
CRU_JUL=mean(CRU_RAW[[7:12]],CRU_RAW[[19:24]],CRU_RAW[[31:36]],CRU_RAW[[43:48]],CRU_RAW[[55:60]],CRU_RAW[[67:72]],CRU_RAW[[79:84]],CRU_RAW[[91:96]],CRU_RAW[[103:108]],CRU_RAW[[115:120]],CRU_RAW[[127:132]],CRU_RAW[[139:144]],CRU_RAW[[151:156]],CRU_RAW[[163:168]],CRU_RAW[[175:180]])
CRU_AUG=mean(CRU_RAW[[8:12]],CRU_RAW[[20:24]],CRU_RAW[[32:36]],CRU_RAW[[44:48]],CRU_RAW[[56:60]],CRU_RAW[[68:72]],CRU_RAW[[80:84]],CRU_RAW[[92:96]],CRU_RAW[[104:108]],CRU_RAW[[116:120]],CRU_RAW[[128:132]],CRU_RAW[[140:144]],CRU_RAW[[152:156]],CRU_RAW[[164:168]],CRU_RAW[[176:180]])
CRU_SEP=mean(CRU_RAW[[9:12]],CRU_RAW[[21:24]],CRU_RAW[[33:36]],CRU_RAW[[45:48]],CRU_RAW[[57:60]],CRU_RAW[[69:72]],CRU_RAW[[81:84]],CRU_RAW[[93:96]],CRU_RAW[[105:108]],CRU_RAW[[117:120]],CRU_RAW[[129:132]],CRU_RAW[[141:144]],CRU_RAW[[153:156]],CRU_RAW[[165:168]],CRU_RAW[[177:180]])
CRU_Stackk=stack(CRU_JUL,CRU_AUG,CRU_SEP)
writeRaster(CRU_Stackk,filename="temp1.tif,format="GTiff",overwrite=TRUE)
plot(stackk)
shashank=mean(stackk)
print(shashank)
attributes(shashank)
climato_t=brick("C:\\Users\\SHASHANK BHASKAR\\Documents\\csmlab.tif")
writeRaster(SHANKY,filename ="CRU MEAN TEMP_2001_2015.tif",format="GTiff",overwrite=TRUE)
CRU_RAW=brick("C:\\Users\\SHASHANK BHASKAR\\Documents\\tempcsmlab_2001-2015.tif")
anomaly_TEMP_2015=(CRU_RAW[[175:180]]+CRU_RAW[[176:180]]+CRU_RAW[[177:180]])-climato_temp
JAs_2015=mean(CRU_RAW[[175:180]]+CRU_RAW[[176:180]]+CRU_RAW[[177:180]]),na.rm=TRUE)
JAs_CLIMATO=mean(CRU_RAW[[175:180]]+CRU_RAW[[176:180]]+CRU_RAW[[177:180]]),na.rm=TRUE)
TEMP_ANOMALY_JAs2015=JAs_2015-JAs_CLIMATO
writeRaster(TEMP_ANOMALY_JAs2015,filename = "CRU_ANOMLY.tiff",format="GTiff",overwrite=TRUE)
print(TEMP_ANOMALY_JAs2015)
plot(TEMP_ANOMALY_JAs2015,main="Seasonal Anomaly of Temp")
             

